<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 5 Layers | Elegant and informative maps with tmap</title>
  <meta name="description" content="This is a book in progress about the tmap package." />
  <meta name="generator" content="bookdown 0.20.5 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 5 Layers | Elegant and informative maps with tmap" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is a book in progress about the tmap package." />
  <meta name="github-repo" content="mtennekes/tmap_book" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 5 Layers | Elegant and informative maps with tmap" />
  
  <meta name="twitter:description" content="This is a book in progress about the tmap package." />
  

<meta name="author" content="Martijn Tennekes, Jakub Nowosad" />


<meta name="date" content="2020-09-09" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="tmshape.html"/>
<link rel="next" href="othertypes.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<link href="libs/bsTable-3.3.7/bootstrapTable.min.css" rel="stylesheet" />
<script src="libs/bsTable-3.3.7/bootstrapTable.js"></script>
<!-- a placeholder for a google analytics script -->
<script>
</script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">tmap: elegant and effective thematic maps in R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#how-to-contribute"><i class="fa fa-check"></i>How to contribute?</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="intro.html"><a href="intro.html#what-is-tmap"><i class="fa fa-check"></i><b>1.1</b> What is <strong>tmap</strong>?</a></li>
<li class="chapter" data-level="1.2" data-path="intro.html"><a href="intro.html#thematic-maps"><i class="fa fa-check"></i><b>1.2</b> Thematic maps</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="geodata.html"><a href="geodata.html"><i class="fa fa-check"></i><b>2</b> Spatial data in R</a><ul>
<li class="chapter" data-level="2.1" data-path="geodata.html"><a href="geodata.html#intro-geodata"><i class="fa fa-check"></i><b>2.1</b> Introduction</a></li>
<li class="chapter" data-level="2.2" data-path="geodata.html"><a href="geodata.html#data-models"><i class="fa fa-check"></i><b>2.2</b> Data models</a><ul>
<li class="chapter" data-level="2.2.1" data-path="geodata.html"><a href="geodata.html#vector-data-model"><i class="fa fa-check"></i><b>2.2.1</b> Vector data model</a></li>
<li class="chapter" data-level="2.2.2" data-path="geodata.html"><a href="geodata.html#raster-data-model"><i class="fa fa-check"></i><b>2.2.2</b> Raster data model</a></li>
<li class="chapter" data-level="2.2.3" data-path="geodata.html"><a href="geodata.html#spatial-data-cubes"><i class="fa fa-check"></i><b>2.2.3</b> Spatial data cubes</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="geodata.html"><a href="geodata.html#spatial-data-representations-in-r"><i class="fa fa-check"></i><b>2.3</b> Spatial data representations in R</a><ul>
<li class="chapter" data-level="2.3.1" data-path="geodata.html"><a href="geodata.html#the-sf-package"><i class="fa fa-check"></i><b>2.3.1</b> The sf package</a></li>
<li class="chapter" data-level="2.3.2" data-path="geodata.html"><a href="geodata.html#the-stars-package"><i class="fa fa-check"></i><b>2.3.2</b> The stars package</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="geodata.html"><a href="geodata.html#crs"><i class="fa fa-check"></i><b>2.4</b> Map projections (CRS)</a><ul>
<li class="chapter" data-level="2.4.1" data-path="geodata.html"><a href="geodata.html#what-are-map-projections"><i class="fa fa-check"></i><b>2.4.1</b> What are map projections?</a></li>
<li class="chapter" data-level="2.4.2" data-path="geodata.html"><a href="geodata.html#a-model-of-the-earth"><i class="fa fa-check"></i><b>2.4.2</b> A model of the Earth</a></li>
<li class="chapter" data-level="2.4.3" data-path="geodata.html"><a href="geodata.html#platte-carrée-and-web-mercator"><i class="fa fa-check"></i><b>2.4.3</b> Platte Carrée and Web Mercator</a></li>
<li class="chapter" data-level="2.4.4" data-path="geodata.html"><a href="geodata.html#types-of-map-projections"><i class="fa fa-check"></i><b>2.4.4</b> Types of map projections</a></li>
<li class="chapter" data-level="2.4.5" data-path="geodata.html"><a href="geodata.html#which-projection-to-choose"><i class="fa fa-check"></i><b>2.4.5</b> Which projection to choose?</a></li>
<li class="chapter" data-level="2.4.6" data-path="geodata.html"><a href="geodata.html#crs-in-r"><i class="fa fa-check"></i><b>2.4.6</b> CRS in R</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="nutshell.html"><a href="nutshell.html"><i class="fa fa-check"></i><b>3</b> <strong>tmap</strong> in a nutshell</a></li>
<li class="chapter" data-level="4" data-path="tmshape.html"><a href="tmshape.html"><i class="fa fa-check"></i><b>4</b> Specifying spatial data with <code>tm_shape</code></a></li>
<li class="chapter" data-level="5" data-path="layers.html"><a href="layers.html"><i class="fa fa-check"></i><b>5</b> Layers</a><ul>
<li class="chapter" data-level="5.1" data-path="layers.html"><a href="layers.html#shapes-and-markers"><i class="fa fa-check"></i><b>5.1</b> Shapes and markers <!--JN: I am not sure where this section should go--></a></li>
<li class="chapter" data-level="5.2" data-path="layers.html"><a href="layers.html#color-palettes"><i class="fa fa-check"></i><b>5.2</b> Color palettes <!--JN: I am not sure where this section should go--></a></li>
<li class="chapter" data-level="5.3" data-path="layers.html"><a href="layers.html#the-color-scale-styles"><i class="fa fa-check"></i><b>5.3</b> The color scale styles <!--JN: I am not sure where this section should go--></a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="othertypes.html"><a href="othertypes.html"><i class="fa fa-check"></i><b>6</b> Other types</a></li>
<li class="chapter" data-level="7" data-path="layout.html"><a href="layout.html"><i class="fa fa-check"></i><b>7</b> Layout</a></li>
<li class="chapter" data-level="8" data-path="interactive.html"><a href="interactive.html"><i class="fa fa-check"></i><b>8</b> Interactive settings</a></li>
<li class="chapter" data-level="9" data-path="multiples.html"><a href="multiples.html"><i class="fa fa-check"></i><b>9</b> Small multiples</a></li>
<li class="chapter" data-level="10" data-path="options.html"><a href="options.html"><i class="fa fa-check"></i><b>10</b> tmap options</a></li>
<li class="chapter" data-level="11" data-path="save.html"><a href="save.html"><i class="fa fa-check"></i><b>11</b> Save maps</a></li>
<li class="chapter" data-level="12" data-path="animations.html"><a href="animations.html"><i class="fa fa-check"></i><b>12</b> Animations</a></li>
<li class="chapter" data-level="13" data-path="shiny.html"><a href="shiny.html"><i class="fa fa-check"></i><b>13</b> <strong>tmap</strong> in <strong>shiny</strong></a></li>
<li class="chapter" data-level="14" data-path="goodmaps.html"><a href="goodmaps.html"><i class="fa fa-check"></i><b>14</b> How to make good maps?</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://mtennekes.github.io/">Martijn Tennekes</a></li>
<li><a href="https://nowosad.github.io/">Jakub Nowosad</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Elegant and informative maps with <strong>tmap</strong></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="layers" class="section level1">
<h1><span class="header-section-number">Chapter 5</span> Layers</h1>
<p><a href="layers.html#tab:layers-table">5.1</a></p>
<table class="table table-striped" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:layers-table">TABLE 5.1: </span>Map layers.
</caption>
<thead>
<tr>
<th style="text-align:left;">
Function
</th>
<th style="text-align:left;">
Element
</th>
<th style="text-align:left;">
Geometry
</th>
</tr>
</thead>
<tbody>
<tr grouplength="5">
<td colspan="3" style="border-bottom: 1px solid;">
<strong>Basic functions</strong>
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;font-family: monospace; padding-left:  2em;" indentlevel="1">
tm_polygons()
</td>
<td style="text-align:left;">
polygons (borders and fill)
</td>
<td style="text-align:left;">
polygons
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;font-family: monospace; padding-left:  2em;" indentlevel="1">
tm_symbols()
</td>
<td style="text-align:left;">
symbols
</td>
<td style="text-align:left;">
points, polygons, and lines
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;font-family: monospace; padding-left:  2em;" indentlevel="1">
tm_lines()
</td>
<td style="text-align:left;">
lines
</td>
<td style="text-align:left;">
lines
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;font-family: monospace; padding-left:  2em;" indentlevel="1">
tm_raster()
</td>
<td style="text-align:left;">
raster
</td>
<td style="text-align:left;">
raster
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;font-family: monospace; padding-left:  2em;" indentlevel="1">
tm_text()
</td>
<td style="text-align:left;">
text
</td>
<td style="text-align:left;">
points, polygons, and lines
</td>
</tr>
<tr grouplength="8">
<td colspan="3" style="border-bottom: 1px solid;">
<strong>Derived functions</strong>
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;font-family: monospace; padding-left:  2em;" indentlevel="1">
tm_borders()
</td>
<td style="text-align:left;">
polygons (borders)
</td>
<td style="text-align:left;">
polygons
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;font-family: monospace; padding-left:  2em;" indentlevel="1">
tm_fill()
</td>
<td style="text-align:left;">
polygons (fill)
</td>
<td style="text-align:left;">
polygons
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;font-family: monospace; padding-left:  2em;" indentlevel="1">
tm_bubbles()
</td>
<td style="text-align:left;">
bubbles
</td>
<td style="text-align:left;">
points, polygons, and lines
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;font-family: monospace; padding-left:  2em;" indentlevel="1">
tm_dots()
</td>
<td style="text-align:left;">
dots
</td>
<td style="text-align:left;">
points, polygons, and lines
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;font-family: monospace; padding-left:  2em;" indentlevel="1">
tm_markers()
</td>
<td style="text-align:left;">
marker symbols
</td>
<td style="text-align:left;">
points, polygons, and lines
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;font-family: monospace; padding-left:  2em;" indentlevel="1">
tm_square()
</td>
<td style="text-align:left;">
squares
</td>
<td style="text-align:left;">
points, polygons, and lines
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;font-family: monospace; padding-left:  2em;" indentlevel="1">
tm_iso()
</td>
<td style="text-align:left;">
lines with text labels
</td>
<td style="text-align:left;">
lines
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;font-family: monospace; padding-left:  2em;" indentlevel="1">
tm_rgb()/tm_rgba()
</td>
<td style="text-align:left;">
raster (RGB image)
</td>
<td style="text-align:left;">
raster
</td>
</tr>
</tbody>
</table>
<div id="shapes-and-markers" class="section level2">
<h2><span class="header-section-number">5.1</span> Shapes and markers <!--JN: I am not sure where this section should go--></h2>
</div>
<div id="color-palettes" class="section level2">
<h2><span class="header-section-number">5.2</span> Color palettes <!--JN: I am not sure where this section should go--></h2>
<!-- reference this bp - https://earthobservatory.nasa.gov/blogs/elegantfigures/2013/08/06/subtleties-of-color-part-2-of-6/ -->
<!-- color as VISUAL VARIABLE! -->
<!-- "Color, along with position, size, shape, value, orientation, and texture is what Jacques Bertin calls a visual variable:" -->
<!-- IDEA: one or more section per each visual variable (color/size/shape) -->
<p>Colors, along with sizes and shapes, are the most often used to express values of attributes or their properties.
Proper use of colors draws the attention of viewers and has a positive impact on the clarity of the presented information.
On the other hand, poor decisions about colors can lead to misinterpretation of the map.</p>
<!-- As we discussed in ..., -->
<!-- We can express values of attributes in spatial data using colors, shapes, or sizes. -->
<!-- https://en.wikipedia.org/wiki/Color_scheme -->
<p>Colors in R are created based either on the color name or its hexadecimal form.
R understands 657 built-in color names, such as <code>"red"</code>, <code>"lightblue"</code> or <code>"gray90"</code>, that are available using the <code>colors()</code> function.
<!-- demo("colors") -->
<!-- http://www.stat.columbia.edu/~tzheng/files/Rcolor.pdf -->
Hexadecimal form, on the other hand, can represent 16,777,216 unique colors.
It consists of six-digits prefixed by the <code>#</code> (hash) symbol, where red, green, and blue values are each represented by two characters.
In hexadecimal form, <code>00</code> is interpreted as <code>0.0</code> which means a lack of a particular color and <code>FF</code> means <code>1.0</code> and shows that the given color has maximal intensity.
For example, <code>#000000</code> represents black color, <code>#FFFFFF</code> white color, and <code>#00FF00</code> green color.
<!-- hex alpha?? --></p>
<!-- what is a color palette intro -->
<p>Using a single color we are able to draw points, lines, polygon borders, or their areas.
In that scenario, all of the elements will have the same color.
However, often we want to represent different values in our data using different colors.
This is a role for color palettes.
A color palette is a set of colors used to distinguish the values of variables on maps.</p>
<p>Color palettes in R are usually stored as a vector of either color names or hexadecimal representations.
For example, <code>c("red", "green", "blue")</code> or <code>c("#66C2A5", "#FC8D62", "#8DA0CB")</code>.
It allows every one of us to create our own color palettes.
However, the decision on how to decide which colors to use is not straightforward, and usually requires thinking about several aspects.</p>
<p>Firstly, what kind of variable we want to show?
<!-- a next sentence is a simplification, as always -->
Is it a <!--qualitative-->categorical variable where each value represents a <!--orderless-->group or a <!--quantitative-->numerical variable in which values have order?
<!-- http://colorspace.r-forge.r-project.org/articles/palette_visualization.html -->
The variable type impacts how it should be presented on the map.
For categorical variables, each color usually should receive the same perceptual weight, which is done by using colors with the same brightness<!--luminance-->, but different hue<!--type of color-->.
On the other hand, for numerical variables, we should easily understand which colors represent lower and which represent higher values.
This is done by manipulating colorfulness<!--chroma,saturation--> and brightness<!--luminance-->.
For example, low values could be presented by a blue color with low colorfulness and high brightness, and with growing values, colorfulness increases and brightness decreases.</p>
<!-- color perception-->
<p>Next consideration is related to how people <!--(reader/viewers)--> perceive some colors.
Usually, we want them to be able to preliminary understand which values the colors represent without looking at the legend – colors should be intuitive.
For example, in the case of categorical variables representing land use, we usually want to use some type of blue color for rivers, green for trees, and white for ice.
This idea also extends to numerical variables, where we should think about the association between colors and cultural values.
The blue color is usually connected to cold temperature, while the red color is hot or can represent danger or something not good.
However, we need to be aware that the connection between colors and cultural values varied between cultures.
<!-- http://uxblog.idvsolutions.com/2013/07/language-and-color.html --></p>
<!-- color blindness -->
<p>Another thing to consider is to use a color palette that is accessible for people with color vision deficiency (color blindness).
<!-- https://en.wikipedia.org/wiki/Color_blindness -->
There are several types of color blindness, with the red-green color blindness (<em>deuteranomaly</em>) being the most common.
It is estimated that up to about 8% of the male population and about 0.5% of the female population in some regions of the world is color blind <span class="citation">(Birch <a href="#ref-birch_worldwide_2012" role="doc-biblioref">2012</a>; Sharpe et al. <a href="#ref-sharpe_opsin_1999" role="doc-biblioref">1999</a>)</span>.
<!-- look for stats/references.. --></p>
<!-- backgroud -->
<!-- Simultaneous contrast. -->
<p>The relation between the selected color palette and other map elements or the map background should be also taken into a consideration.
Using a bright or dark background color on a map has an impact on how people will perceive different color palettes.</p>
<!-- The last thing to consider is related to the  -->
<!-- also related to what is the main goal - website, journal article? -->
<!-- bw -->
<!-- is it A4 or a postcard size?-->
<!-- should we add: (?) -->
<!-- aesthetic -->
<!-- similar to lines types, fonts, etc, positions -->
<!-- hard to grasp, hard to learn, look for good examples and be inspired -->
<!-- therefore, there is a lot of existing color palettes, and many of them are grounded in science -->
<p>Gladly, a lot of work has been put on creating color palettes that are grounded in the research of perception and design.
Currently, <a href="https://github.com/EmilHvitfeldt/r-color-palettes">several dozens of R packages</a> contains hundreds of color palettes.
The most popular among them are <strong>RColorBrewer</strong> <span class="citation">(Neuwirth <a href="#ref-R-RColorBrewer" role="doc-biblioref">2014</a>)</span> and <strong>viridis</strong> <span class="citation">(Garnier <a href="#ref-R-viridis" role="doc-biblioref">2018</a>)</span>.
<strong>RColorBrewer</strong> builds upon a set of perceptually ordered color palettes <span class="citation">(Harrower and Brewer <a href="#ref-harrower_colorbrewer_2003" role="doc-biblioref">2003</a>)</span> and the associated website at <a href="https://colorbrewer2.org" class="uri">https://colorbrewer2.org</a>.
The website not only presents all of the available color palettes, but also allow to filter them based on their properties, such as being colorblind safe or print-friendly.
<!-- explain viridis shortely + links-->
The <strong>viridis</strong> package has five color palettes are perceptually-uniform and suitable for people with color blindness.
Four palettes is this package (“viridis”, “magma”, “plasma”, and “inferno”) are derived from the work on the color palettes for <a href="http://bids.github.io/colormap/">the matplotlib Python library</a>.
The last one, “cividis”, is based on the work of <span class="citation">Nuñez, Anderton, and Renslow (<a href="#ref-nunez_optimizing_2018" role="doc-biblioref">2018</a>)</span>.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="layers.html#cb10-1"></a>RColorBrewer<span class="op">::</span><span class="kw">brewer.pal</span>(<span class="dv">7</span>, <span class="st">&quot;RdBu&quot;</span>)</span>
<span id="cb10-2"><a href="layers.html#cb10-2"></a><span class="co">#&gt; [1] &quot;#B2182B&quot; &quot;#EF8A62&quot; &quot;#FDDBC7&quot; &quot;#F7F7F7&quot; &quot;#D1E5F0&quot;</span></span>
<span id="cb10-3"><a href="layers.html#cb10-3"></a><span class="co">#&gt; [6] &quot;#67A9CF&quot; &quot;#2166AC&quot;</span></span>
<span id="cb10-4"><a href="layers.html#cb10-4"></a>viridis<span class="op">::</span><span class="kw">viridis</span>(<span class="dv">7</span>)</span>
<span id="cb10-5"><a href="layers.html#cb10-5"></a><span class="co">#&gt; [1] &quot;#440154FF&quot; &quot;#443A83FF&quot; &quot;#31688EFF&quot; &quot;#21908CFF&quot;</span></span>
<span id="cb10-6"><a href="layers.html#cb10-6"></a><span class="co">#&gt; [5] &quot;#35B779FF&quot; &quot;#8FD744FF&quot; &quot;#FDE725FF&quot;</span></span></code></pre></div>
<!-- grDevices::hcl.colors  + links-->
<!-- grDevices::palette  + links-->
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="layers.html#cb11-1"></a>grDevices<span class="op">::</span><span class="kw">hcl.colors</span>(<span class="dv">7</span>, <span class="st">&quot;Oslo&quot;</span>)</span>
<span id="cb11-2"><a href="layers.html#cb11-2"></a><span class="co">#&gt; [1] &quot;#FCFCFC&quot; &quot;#C2CEE8&quot; &quot;#86A2D3&quot; &quot;#3C79C0&quot; &quot;#275182&quot;</span></span>
<span id="cb11-3"><a href="layers.html#cb11-3"></a><span class="co">#&gt; [6] &quot;#132B48&quot; &quot;#040404&quot;</span></span>
<span id="cb11-4"><a href="layers.html#cb11-4"></a>grDevices<span class="op">::</span><span class="kw">palette.colors</span>(<span class="dv">7</span>, <span class="st">&quot;Okabe-Ito&quot;</span>)</span>
<span id="cb11-5"><a href="layers.html#cb11-5"></a><span class="co">#&gt;       black      orange     skyblue bluishgreen </span></span>
<span id="cb11-6"><a href="layers.html#cb11-6"></a><span class="co">#&gt;   &quot;#000000&quot;   &quot;#E69F00&quot;   &quot;#56B4E9&quot;   &quot;#009E73&quot; </span></span>
<span id="cb11-7"><a href="layers.html#cb11-7"></a><span class="co">#&gt;      yellow        blue  vermillion </span></span>
<span id="cb11-8"><a href="layers.html#cb11-8"></a><span class="co">#&gt;   &quot;#F0E442&quot;   &quot;#0072B2&quot;   &quot;#D55E00&quot;</span></span></code></pre></div>
<!-- https://developer.r-project.org/Blog/public/2019/11/21/a-new-palette-for-r/index.html -->
<p>Generaly, color palettes can be divided into three main types (Figure <a href="layers.html#fig:palette-types">5.1</a>):</p>
<ul>
<li>Categorical (also known as Qualitative) - used for presenting categorical information, for example, categories or groups.
Every color in this type of palettes should receive the same perceptual weight, and the order of colors is meaningless.
<!-- examples --></li>
<li>Sequential - used for presenting continuous variables, in which order matters.
Colors in this palette type changes from low to high (or vice versa), which is usually underlined by luminance differences (light-dark contrasts).
<!-- examples --></li>
<li>Diverging - used for presenting continuous variables, but where colors diverge from a central neutral value to two extremes.
Therefore, in sense, they consist of two sequential palettes that meet in the midpoint value.
<!-- examples --></li>
</ul>
<!-- idea: add two examples to each (e.g., monochrome and part-spectral to sequential) -->
<!-- idea: add spectral schemes -->
<div class="figure" style="text-align: center"><span id="fig:palette-types"></span>
<img src="05-layers_files/figure-html/palette-types-1.png" alt="Examples of three main types of color palettes: categorical, sequential, and diverging" width="672" />
<p class="caption">
FIGURE 5.1: Examples of three main types of color palettes: categorical, sequential, and diverging
</p>
</div>
<!-- idea: add bivariate/trivariate schemes (if/when implemented in tmap) -->
<!-- palette properties -->
<!-- anti-rainbow -->
<!-- https://eagereyes.org/basics/rainbow-color-map -->
<!-- limitation of the number of colors -->
<!-- interpolation between colors -->
<!-- relation in the background oclor and other colors -->
<!-- using two or more palettes (e.g. lines and points): -->
<!-- color palettes then should be complementary -->
<!-- three ways to set colors in tmap: -->
<!-- 1. vector of colors (names vs hex) -->
<!-- 2. palette functions (e.g. RColorBrewer, rcartocolor, grDevices::hcl.colors) -->
<!-- 3. build-in names in tmap <!-- tmaptools::palette_explorer() -->
<p>–&gt;
<!-- <!-- including viridis --> –&gt;
<!-- also the `n` argument -->
<!-- also the `-` sign -->
<!-- The type of palette from aes.palette is automatically determined, but can be overwritten: use "seq" for sequential, "div" for diverging, and "cat" for categorical. -->
<!-- alpha? --></p>
<!-- resources: -->
<!-- - colorspace -->
<!-- - Polychrome -->
<!-- - https://bookdown.org/hneth/ds4psy/D-2-apx-colors-essentials.html -->
<!-- - https://developer.r-project.org/Blog/public/2019/11/21/a-new-palette-for-r/index.html -->
<!-- add some references about colors theory, color blindness, etc. -->
<!-- https://earthobservatory.nasa.gov/blogs/elegantfigures/2013/09/10/subtleties-of-color-part-6-of-6/ -->
</div>
<div id="the-color-scale-styles" class="section level2">
<h2><span class="header-section-number">5.3</span> The color scale styles <!--JN: I am not sure where this section should go--></h2>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="layers.html#cb12-1"></a><span class="co"># replace this data with some new tmap dataset</span></span>
<span id="cb12-2"><a href="layers.html#cb12-2"></a><span class="kw">library</span>(sf)</span>
<span id="cb12-3"><a href="layers.html#cb12-3"></a><span class="co">#&gt; Linking to GEOS 3.8.0, GDAL 3.0.4, PROJ 7.0.0</span></span>
<span id="cb12-4"><a href="layers.html#cb12-4"></a><span class="kw">library</span>(tmap)</span>
<span id="cb12-5"><a href="layers.html#cb12-5"></a>file_path =<span class="st"> </span><span class="kw">system.file</span>(<span class="st">&quot;shapes/world.gpkg&quot;</span>, <span class="dt">package =</span> <span class="st">&quot;spData&quot;</span>)</span>
<span id="cb12-6"><a href="layers.html#cb12-6"></a>world =<span class="st"> </span><span class="kw">read_sf</span>(file_path)</span>
<span id="cb12-7"><a href="layers.html#cb12-7"></a>world_moll =<span class="st"> </span><span class="kw">st_transform</span>(world, <span class="dt">crs =</span> <span class="st">&quot;+proj=moll&quot;</span>)</span></code></pre></div>
<!-- one plot with five panels: one color/adjacent polygons/categorical/discrete/continuous? -->
<!-- or maybe start with one color/adjacent polygons -->
<!-- and next present three main types of color palettes -->
<!-- after that categorical/discrete/continuous?? -->
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="layers.html#cb13-1"></a>tm_one =<span class="st"> </span><span class="kw">tm_shape</span>(world_moll) <span class="op">+</span></span>
<span id="cb13-2"><a href="layers.html#cb13-2"></a><span class="st">  </span><span class="kw">tm_polygons</span>(<span class="dt">col =</span> <span class="st">&quot;lightblue&quot;</span>)</span>
<span id="cb13-3"><a href="layers.html#cb13-3"></a>tm_uni =<span class="st"> </span><span class="kw">tm_shape</span>(world_moll) <span class="op">+</span></span>
<span id="cb13-4"><a href="layers.html#cb13-4"></a><span class="st">  </span><span class="kw">tm_polygons</span>(<span class="dt">col =</span> <span class="st">&quot;MAP_COLORS&quot;</span>)</span></code></pre></div>
<p>To see and compare examples of every color scale style from <strong>tmap</strong> visit <a href="https://geocompr.github.io/post/2019/tmap-color-scales/" class="uri">https://geocompr.github.io/post/2019/tmap-color-scales/</a>.</p>

</div>
</div>
<h3>References</h3>
<div id="refs" class="references">
<div id="ref-birch_worldwide_2012">
<p>Birch, Jennifer. 2012. “Worldwide Prevalence of Red-Green Color Deficiency.” <em>Journal of the Optical Society of America A</em> 29 (3): 313. <a href="https://doi.org/10/ggkw82">https://doi.org/10/ggkw82</a>.</p>
</div>
<div id="ref-R-viridis">
<p>Garnier, Simon. 2018. <em>Viridis: Default Color Maps from ’Matplotlib’</em>. <a href="https://CRAN.R-project.org/package=viridis">https://CRAN.R-project.org/package=viridis</a>.</p>
</div>
<div id="ref-harrower_colorbrewer_2003">
<p>Harrower, Mark, and Cynthia A. Brewer. 2003. “ColorBrewer.Org: An Online Tool for Selecting Colour Schemes for Maps.” <em>The Cartographic Journal</em> 40 (1): 27–37. <a href="https://doi.org/10.1179/000870403235002042">https://doi.org/10.1179/000870403235002042</a>.</p>
</div>
<div id="ref-R-RColorBrewer">
<p>Neuwirth, Erich. 2014. <em>RColorBrewer: ColorBrewer Palettes</em>. <a href="https://CRAN.R-project.org/package=RColorBrewer">https://CRAN.R-project.org/package=RColorBrewer</a>.</p>
</div>
<div id="ref-nunez_optimizing_2018">
<p>Nuñez, Jamie R., Christopher R. Anderton, and Ryan S. Renslow. 2018. “Optimizing Colormaps with Consideration for Color Vision Deficiency to Enable Accurate Interpretation of Scientific Data.” Edited by Jesús Malo. <em>PLOS ONE</em> 13 (7): e0199239. <a href="https://doi.org/10/gdzkg4">https://doi.org/10/gdzkg4</a>.</p>
</div>
<div id="ref-sharpe_opsin_1999">
<p>Sharpe, Lindsay T, Andrew Stockman, Herbert Jägle, and Jeremy Nathans. 1999. “Opsin Genes, Cone Photopigments, Color Vision, and Color Blindness.” In <em>Color Vision: From Genes to Perception</em>, edited by T Gegenfurtner and Lindsay T Sharpe, 50. Cambridge: Cambridge University Press.</p>
</div>
</div>
<script>
/*
Sorts the references alphabetically.
Modified from code by Yvonne Aburrow.
*/
$(function(){
    var elems = $('#refs').children('div').remove();
    elems.sort(function (a, b) {
        return $(b).children('p').html().toUpperCase() > $(a).children('p').html().toUpperCase() ? -1 : 1;
    });
    $('#refs').append(elems);
})
</script>
            </section>

          </div>
        </div>
      </div>
<a href="tmshape.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="othertypes.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": null,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/mtennekes/tmap_book/edit/master/05-layers.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
